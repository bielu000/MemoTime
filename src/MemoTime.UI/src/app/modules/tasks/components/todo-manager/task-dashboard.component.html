<nav class="navbar fixed-top topnav">
    <ul class="menu">
        <div class="leftmenu">
            <li><a href="#">MemoTime</a></li>
        </div>

        <div class="rightmenu">
            <li><a [routerLink]="['account']" ><a href="#"><i class="material-icons">&#xE8B8;</i></a></a></li>
            <div style="clear:both"></div>
        </div>
    </ul>

</nav>
<div class="container main-container">
  <div class="row">
    <div class="col-sm-3">
      <div class="left-menu">
        <div class="left-menu-container">
          <ul>
            <li class="botton">
      <span>
        <a [routerLink]="['#']" preserveQueryParams preserveFragment><i class="material-icons icon-vertical-align ">today</i>Dzisiaj</a>
      </span>
            </li>
            <li class="botton">
              <a [routerLink]="['#']" preserveQueryParams preserveFragment><i class="material-icons icon-vertical-align ">today</i><span>NastÄ™pne 7 dni</span></a></li>
          </ul>
        </div>

      </div>

      <div>
        <div class="project-list-container">
          <!--<ul [dragula]='"bag-one"' [dragulaModel]='projectList'>-->
            <!--<li *ngFor="let project of projectList" (click)="getProject(project.id)">-->
                <!--{{project.name}}-->
            <!--</li>-->
          <!--</ul>-->
            <div class="single-project" id="{{project.id}}"
                 *ngFor="let project of projectList">
                <div class="row">
                    <div *ngIf="editProject.hidden" class="col-lg-12"
                         (mouseenter)="projectActions.hidden = !projectActions.hidden"
                         (mouseleave)="projectActions.hidden = !projectActions.hidden">
                        <div class="row">
                            <div (click)="getProject(project.id)" class="col-lg-10 project-name">
                                {{ project.name }}
                            </div>

                            <div class="col-lg-1 project-actions">
                                <app-project-actions
                                        #projectActions
                                        [project]="project"
                                        (onDeleted)="onDeleteProjectSubmitted($event)"
                                        (onEditClicked)="editProject.hidden = !editProject.hidden">
                                </app-project-actions>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12 task-editor">
                        <app-project-form #editProject
                                       [project]="project"
                                       (onEdited)="onEditProjectSubmitted($event)">
                        </app-project-form>
                    </div>
                </div>
            </div>

            <div class="add-project">
                <div class="add-task" *ngIf="projectForm.hidden">
                    <span (click)="projectForm.hidden = !projectForm.hidden">
                        <i class="material-icons">add</i>Dodaj projekt
                    </span>
                </div>

                <div class="edit-project">
                    <app-project-form #projectForm
                                      (onAdded)="onCreateProjectSubmitted($event)">
                    </app-project-form>
                </div>
            </div>
        </div>
      </div>
    </div>

    <div class="col-sm-9 task-list">
        <div *ngIf="list">
            <div class="overflow-wrapper">
            <div class="task-list-container">
                <h5> {{ list.name }} </h5>
              <hr>
                <div class="single-task" id="{{task.id}}"
                     *ngFor="let task of list.tasks">
                    <div class="row task-container">
                        <div *ngIf="editTask.hidden" class="col-lg-12"
                             (mouseenter)="taskActions.hidden = !taskActions.hidden"
                             (mouseleave)="taskActions.hidden = !taskActions.hidden">
                            <div class="row">
                                <div (click)="editTask.hidden = !editTask.hidden" class="col-lg-11 task-name">
                                    {{ task.name }}
                                </div>

                                <div class="col-lg-1 task-actions">
                                    <app-task-actions
                                            #taskActions
                                            [task]="task"
                                            (onDeleted)="onDeleteTaskSubmitted($event)"
                                            (onEditClicked)="editTask.hidden = !editTask.hidden">
                                    </app-task-actions>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12 task-editor">
                            <app-task-form #editTask
                                [task]="task"
                                (onEdited)="onEditTaskSubmitted($event)">
                            </app-task-form>
                        </div>
                    </div>
                </div>


                <div class="add-task" *ngIf="taskForm.hidden">
                    <span (click)="taskForm.hidden = !taskForm.hidden">
                        <i class="material-icons">add</i>Dodaj zadanie
                    </span>
                </div>

                <app-task-form #taskForm
                               (onAdded)="onCreateTaskSubmitted($event, list.id)">
                </app-task-form>
            </div>
            </div>
        </div>
    </div>
    <div class="col-lg-1"></div>
  </div>
</div>

